{% extends "Superlayout.html" %}
{% block content %}
<div class="row ">
    <div class="col-sm-12 d-flex justify-content-center">
        <div class="container row p-1 text-center">
            <div class="col-sm h-30 border m-4 item-card rounded-3 p-3 " style="background-image:linear-gradient(90deg, #11998e 0%, #38ef7d 100%)">
                <h5>Shipment record Left</h5>
                <h2>12</h2>
            </div>
        </div>
    </div>
</div>
<div class="row m-4">
    <div class="table-responsive">
        <table id="Action_Shipmentform" class="table table-striped display  nowrap" style="width:100%">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">Transaction_number</th>
                    <th scope="col">Type of Discrepancy</th>
                    <th scope="col">Part_Number</th>
                    <th scope="col">Submit_date</th>
                    <th scope="col">Submit_by</th>
                    <th scope="col">status</th>
                    <th scope="col">Add Action</th>
                    <th>Detail</th>  
                    
                </tr>
            </thead>
            <tbody>
            {% for record in records %}
                <tr>
                    <td style='text-align: center'>{{record.transaction_number}}</td>
                    <td>{{record.typeofdiscrepancyid.type_of_discrepancy}}</td>
                    <td>{{record.partnumber}}</td>
                    <td>{{record.submitdate}}</td>
                    <td>{{record.submitby}}</td>
                    <td style="font-weight: bold">{{record.status}}</td>
                    <td><a href="{% url 'AddAction' record.transaction_number %}" class="btn btn-primary btn-sm">Add Action</a></td>
                    {% if  record.status == 'Submitted' %}
                        <td><button class="btn btn-success btn-sm" data-bs-toggle="modal" data-bs-target="#exampleModal{{record.transaction_number}}">Detail</button>
                        </td>
                    {% endif %}
                    <div class="modal fade" id="exampleModal{{record.transaction_number}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-xl">
                            <div class="modal-content ">
                                <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel"><p class="">Shipment Detail</p></h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div class="container-fluid shadow py-4 my-2" style="background-color:#ededeb; ">
                                        <div class="row m-2">
                                            <div class="col">
                                                Transaction Number: {{record.transaction_number}}
                                            </div>
                                            <div class="col">
                                                Area : {{record.areaid.area}}
                                            </div>
                                            <div class="col">
                                                Fight Number: {{record.fightnumber}}
                                            </div>
                                        </div>
                                        <div class="row m-2">
                                            <div class="col">
                                                Mode of Transportation: {{record.modeoftransportationid.modeoftransportation}}
                                            </div>
                                            <div class="col">
                                                Forwarder : {{record.forwarder}}
                                            </div>
                                            <div class="col">
                                                Shipper-Name: {{record.shippername}}
                                            </div>
                                        </div>
                                        <div class="row m-2">
                                            <div class="col">
                                                Shipper-Country: {{record.shippercountry}}
                                            </div>
                                            <div class="col">
                                                Customs-Declaration-Number : {{record.customs_declaration_number}}
                                            </div>
                                            <div class="col">
                                                Invoice-Number: {{record.invoice_number}}
                                            </div>
                                        </div>
                                        <div class="row m-2">
                                            <div class="col">
                                                Pick-Ticketor : {{record.pickticketor}}
                                            </div>
                                            <div class="col">
                                                Bill_of_landing : {{record.mawb_hawb_bill_of_landing}}
                                            </div>
                                            <div class="col">
                                                Supplier-Name: {{record.suppliername}}
                                            </div>
                                        </div>
                                        <div class="row m-2">
                                            <div class="col">
                                                Part-Number : {{record.partnumber}}
                                            </div>
                                            <div class="col">
                                                Invoice-Quantity : {{record.invoice_quantity}}
                                            </div>
                                            <div class="col">
                                                Invoice -UOM: {{record.damageuomid.damageuom}}
                                            </div>
                                        </div>
                                        <div class="row m-2">
                                            <div class="col">
                                                Unit-Price : {{record.unitprice_field}}
                                            </div>
                                            <div class="col">
                                                Total-Package : {{record.total_package}}
                                            </div>
                                            <div class="col">
                                                Date-of-Incident: {{record.dateofincident}}
                                            </div>
                                        </div>
                                        <div class="row m-2">
                                            <div class="col">
                                                Type-of-Discrepancy : {{record.typeofdiscrepancyid.type_of_discrepancy}}
                                            </div>
                                            <div class="col">
                                                Detail-of-Discrepancy : {{record.detailofdiscrepancy}}
                                            </div>
                                            <div class="col">
                                                Submit-By: {{record.submitby}}
                                            </div>
                                        </div>
                                        <div class="row m-2">
                                            <div class="col">
                                                Submit-Date : {{record.submitdate}}
                                            </div>
                                            <div class="col">
                                                Status : {{record.status}}
                                            </div>
                                            <div class="col">
                                                
                                            </div>
                                        </div>
                                        <div class="row m-2">
                                            <div class="col">
                                                <a href="/media/{{record.shipping_documents_fie}}">{{record.shipping_documents_fie|default:""}}</a>
                                            </div>
                                            <div class="col">
                                                <a href="/media/{{record.other_file}}">{{record.shipping_documents_fie|default:""}}</a>
                                            </div>
                                            <div class="col">
                                            
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>


{% endblock %}